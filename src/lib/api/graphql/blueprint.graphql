fragment BlueprintFragement on Blueprint {
  id
  createdAt
  updatedAt
  name
  description
  blueprintTemplate
  variableTypes
  provider {
    id
    displayName
    isLoaded
  }
  deployments {
    id
  }
}

fragment ResourceFragment on Resource {
  id
  createdAt
  updatedAt
  key
  features {
    power
    console
  }
  object
}

query Blueprints {
  deployableBlueprints {
    blueprints {
      ...BlueprintFragement
    }
    total
  }
}

query GetBlueprint($id: ID!) {
  blueprint(id: $id) {
    ...BlueprintFragement
  }
}

mutation CreateBlueprint($input: BlueprintInput!) {
  createBlueprint(input: $input) {
    ...BlueprintFragement
  }
}

mutation UpdateBlueprint($id: ID!, $input: BlueprintInput!) {
  updateBlueprint(id: $id, input: $input) {
    ...BlueprintFragement
  }
}

mutation DeployBlueprint($id: ID!, $templateVars: StrMap!) {
  deployBlueprint(id: $id, templateVars: $templateVars) {
    ...DeploymentFragment
  }
}
